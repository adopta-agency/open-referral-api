<?php$route = '/contacts/:contact_id/phones/:phone_id';$app->put($route, function ()  use ($app){	$request = $app->request();	$_GET = $request->params();	if(isset($_GET['number'])){ $number = $_GET['number']; } else { $number = '';}	if(isset($_GET['extension'])){ $extension = $_GET['extension']; } else { $extension = '';}	if(isset($_GET['type'])){ $type = $_GET['type']; } else { $type = '';}	if(isset($_GET['department'])){ $department = $_GET['department']; } else { $department = '';}	$Query = "SELECT * FROM phone WHERE slug = '" . $slug . "'";	$Database = mysql_query($Query) or die('Query failed: ' . mysql_error());	if($Database && mysql_num_rows($Database))		{		$query = "UPDATE phone SET";		if(isset($contact_id))			{			$query .= "contact_id='" . mysql_real_escape_string($contact_id) . "'";			}		if(isset($phone_id))			{			$query .= "phone_id='" . mysql_real_escape_string($phone_id) . "'";			}		if(isset($number))			{			$query .= "number='" . mysql_real_escape_string($number) . "'";			}		if(isset($extension))			{			$query .= "extension='" . mysql_real_escape_string($extension) . "'";			}		if(isset($type))			{			$query .= "type='" . mysql_real_escape_string($type) . "'";			}		if(isset($department))			{			$query .= "department='" . mysql_real_escape_string($department) . "'";			}		$query .= " WHERE slug = '" . $slug . "'";		mysql_query($query) or die('Query failed: ' . mysql_error());		$ReturnObject = array();		$ReturnObject['message'] = "Phone Updated!";		$ReturnObject['slug'] = $slug;		}	$api->response()->header("Content-Type", "application/json");	echo stripslashes(format_json(json_encode($ReturnObject)));	});?>